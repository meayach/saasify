<div class="application-list-container">
  <!-- Header avec breadcrumbs -->
  <div class="header">
    <div class="breadcrumbs">
      <span class="breadcrumb-item" (click)="router.navigate(['/dashboard'])">Dashboard</span>
      <span class="breadcrumb-separator">></span>
      <span class="breadcrumb-current">Gestion des Applications</span>
    </div>
    <h1>Gestion des Applications</h1>
    <p class="subtitle">G√©rez et surveillez toutes vos applications SaaS</p>
  </div>

  <!-- Statistiques -->
  <div class="stats-row">
    <div class="stat-card">
      <div class="stat-icon">STATS</div>
      <div class="stat-content">
        <h3>{{ applicationStats.totalApplications }}</h3>
        <p>Total Applications</p>
      </div>
    </div>
    <div class="stat-card">
      <div class="stat-icon">‚úÖ</div>
      <div class="stat-content">
        <h3>{{ applicationStats.activeApplications }}</h3>
        <p>Applications Actives</p>
      </div>
    </div>
    <div class="stat-card">
      <div class="stat-icon">APP</div>
      <div class="stat-content">
        <h3>{{ applicationStats.deploymentsToday }}</h3>
        <p>D√©ploiements Aujourd'hui</p>
      </div>
    </div>
    <div class="stat-card">
      <div class="stat-icon">‚ö†Ô∏è</div>
      <div class="stat-content">
        <h3>{{ applicationStats.maintenanceApplications }}</h3>
        <p>En Maintenance</p>
      </div>
    </div>
  </div>

  <!-- Actions -->
  <div class="actions-bar">
    <button class="btn-primary" (click)="createNewApplication()">
      <i class="pi pi-plus"></i>
      Nouvelle Application
    </button>
    <button class="btn-secondary" (click)="loadApplications()">
      <i class="pi pi-refresh"></i>
      Actualiser
    </button>
  </div>

  <!-- Liste des applications -->
  <div class="applications-grid" *ngIf="!loading">
    <div class="application-card" *ngFor="let app of applications">
      <div class="card-header">
        <h3>{{ app.name }}</h3>
        <div class="status-badge" [style.background-color]="getStatusColor(app.status)">
          {{ getStatusText(app.status) }}
        </div>
      </div>

      <div class="card-content">
        <p class="description">{{ app.description }}</p>
        <div class="metadata">
          <span class="created-date">
            <i class="pi pi-calendar"></i>
            Cr√©√© le {{ app.createdAt | date : 'dd/MM/yyyy' }}
          </span>
        </div>
      </div>

      <div class="card-actions">
        <button class="btn-edit" (click)="editApplication(app._id!)">
          <i class="pi pi-pencil"></i>
          Modifier
        </button>
        <button class="btn-delete" (click)="deleteApplication(app._id!)">
          <i class="pi pi-trash"></i>
          Supprimer
        </button>
      </div>
    </div>
  </div>

  <!-- Loading state -->
  <div class="loading-container" *ngIf="loading">
    <div class="loading-spinner">
      <i class="pi pi-spinner pi-spin"></i>
      <p>Chargement des applications...</p>
    </div>
  </div>

  <!-- Empty state -->
  <div class="empty-state" *ngIf="!loading && applications.length === 0">
    <div class="empty-icon">üì±</div>
    <h3>Aucune application trouv√©e</h3>
    <p>Commencez par cr√©er votre premi√®re application</p>
    <button class="btn-primary" (click)="createNewApplication()">
      <i class="pi pi-plus"></i>
      Cr√©er ma premi√®re application
    </button>
  </div>
</div>

<!-- Modal de confirmation -->
<app-confirmation-modal></app-confirmation-modal>
