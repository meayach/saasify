<!DOCTYPE html>
<html>
  <head>
    <title>Test Rapide Plan</title>
  </head>
  <body>
    <h1>Test Plan Selection</h1>
    <button onclick="createPlan()">Créer Plan dans localStorage</button>
    <button onclick="checkPlan()">Vérifier Plan</button>
    <button onclick="goToConfig()">Aller à la Config</button>

    <div id="result"></div>

    <script>
      function createPlan() {
        const plan = {
          id: "68bf677bdf8ea2b424543a01",
          _id: "68bf677bdf8ea2b424543a01",
          name: "Plan Pro",
          description: "Plan professionnel avec plus de fonctionnalités",
          price: 29.99,
          currency: "EUR",
          billingCycle: "MONTHLY",
          type: "PRO",
          isActive: true,
          includedFeatures: [
            "5 Applications",
            "Support prioritaire",
            "Analytics avancées",
          ],
          features: [
            "5 Applications",
            "Support prioritaire",
            "Analytics avancées",
          ],
        };

        localStorage.setItem("selectedPlan", JSON.stringify(plan));
        document.getElementById("result").innerHTML =
          "<h2>✅ Plan créé dans localStorage!</h2>";
      }

      function checkPlan() {
        const plan = localStorage.getItem("selectedPlan");
        if (plan) {
          const parsed = JSON.parse(plan);
          document.getElementById("result").innerHTML = `
                    <h2>✅ Plan trouvé:</h2>
                    <p><strong>${parsed.name}</strong></p>
                    <p>${parsed.description}</p>
                    <p>Prix: ${parsed.price}€</p>
                `;
        } else {
          document.getElementById("result").innerHTML =
            "<h2>❌ Aucun plan trouvé</h2>";
        }
      }

      function goToConfig() {
        window.open(
          "http://localhost:4200/applications/configure/68c021879c0ab39a7a678ecc",
          "_blank"
        );
      }
    </script>
  </body>
</html>
